%form.form-inline{role: 'form'}
  .form-group.has-feedback
    %label.control-label.sr-only Limit by user email
    %input.form-control{type: 'search', placeholder: 'User Email'}/
    %i.glyphicon.glyphicon-search.form-control-feedback

.table-responsive
  %table.table.table-condensed
    %thead
      %tr
        %th
          .row
            .col-md-12 User
        %th
          .row
            .col-md-6
              Roles
            .col-md-4.col-md-offset-2
              %select#role-id.form-control.pull-right.input-sm{data: {add_target: add_role_path, remove_target: remove_role_path, authenticity_token: form_authenticity_token}}
                - Role.all.each do |role|
                  %option.input-sm{value: role.id}= role.name
    %tbody
      - users.each do |user|
        %tr.user{data: {user_id: user.id}}
          %td= user.email
          %td
            - user.roles.each do |role|
              %span.label.label-success
                = role.name
                %a.remove-role{data: {role_id: role.id}}
                  %span.glyphicon.glyphicon-remove
            %button.add-role.btn.btn-primary.btn-xs.pull-right{type: "button"}
              %span.glyphicon.glyphicon-plus
              Add
